<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Flex.io Javascript SDK Test</title>
</head>

<body>
  <div id="app"></div>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
  <script src="../dist/flexio.min.js"></script>
  <script>
    Flexio.setup('gnffbxwtrrqfkvxdmrjs')

    var $app = $('#app')
    $app.append('<h1>Flex.io Javascript SDK Version: ' + Flexio.version() + '</h1>')

    var pipe = Flexio.pipe({
        name: 'My Test Pipe'
      })
      .input('https://static.pexels.com/photos/51387/mount-everest-himalayas-nuptse-lhotse-51387.jpeg')
      .output()
      .save(function() {
        $app.append('<h3>Pipe Content</h3>')
        $app.append('<pre>' + JSON.stringify(pipe.getJson(), null, 2) + '</pre>')
      })
      .run(function() {
        $app.append('<h3>Process Content</h3>')
        $app.append('<pre>' + JSON.stringify(pipe.getLastProcess(), null, 2) + '</pre>')
      })
  </script>
</body>
</html>
